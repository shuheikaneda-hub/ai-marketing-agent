<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–æˆ¦ç•¥æ§‹ç¯‰ 5ã‚¹ãƒ†ãƒƒãƒ—ãƒŠãƒ“ã‚²ãƒ¼ã‚¿ãƒ¼</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --accent: #ec4899;
            --dark: #1e293b;
            --gray: #64748b;
            --light-gray: #f1f5f9;
            --white: #ffffff;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 20px 25px -5px rgb(0 0 0 / 0.1);
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--dark);
            position: relative;
            overflow-x: hidden;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            pointer-events: none;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }
        
        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        .header {
            text-align: center;
            margin-bottom: 3rem;
            animation: fadeInDown 0.8s ease-out;
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow-lg);
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
            display: inline-block;
        }
        
        .header p {
            color: var(--gray);
            font-size: 1.125rem;
        }
        
        /* ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
        .main-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 2rem;
            animation: fadeInUp 0.8s ease-out;
        }
        
        /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ã‚µã‚¤ãƒ‰ãƒãƒ¼ */
        .progress-sidebar {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            backdrop-filter: blur(20px);
            height: fit-content;
            position: sticky;
            top: 2rem;
        }
        
        .progress-title {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .step-list {
            list-style: none;
        }
        
        .step-item {
            position: relative;
            padding-left: 2.5rem;
            margin-bottom: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .step-item:not(:last-child)::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 35px;
            width: 2px;
            height: calc(100% + 15px);
            background: var(--light-gray);
            transition: background 0.3s ease;
        }
        
        .step-item.completed:not(:last-child)::before {
            background: var(--success);
        }
        
        .step-indicator {
            position: absolute;
            left: 0;
            top: 0;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--light-gray);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.875rem;
            color: var(--gray);
            transition: all 0.3s ease;
        }
        
        .step-item.active .step-indicator {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
        }
        
        .step-item.completed .step-indicator {
            background: var(--success);
            color: white;
        }
        
        .step-item.completed .step-indicator::after {
            content: 'âœ“';
            position: absolute;
            font-size: 1rem;
        }
        
        .step-item.completed .step-indicator span {
            display: none;
        }
        
        .step-content {
            padding-top: 0.25rem;
        }
        
        .step-name {
            font-weight: 600;
            color: var(--gray);
            margin-bottom: 0.25rem;
            transition: color 0.3s ease;
        }
        
        .step-item.active .step-name,
        .step-item.completed .step-name {
            color: var(--dark);
        }
        
        .step-description {
            font-size: 0.75rem;
            color: var(--gray);
            line-height: 1.4;
        }
        
        /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
        .main-content {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: var(--shadow-lg);
            backdrop-filter: blur(20px);
            min-height: 600px;
        }
        
        .step-header {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid var(--light-gray);
        }
        
        .step-number {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
            padding: 0.5rem 1rem;
            border-radius: 100px;
            margin-bottom: 1rem;
        }
        
        .step-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 0.5rem;
        }
        
        .step-subtitle {
            color: var(--gray);
            font-size: 1.125rem;
            line-height: 1.6;
        }
        
        /* ãƒ•ã‚©ãƒ¼ãƒ è¦ç´  */
        .form-section {
            margin-bottom: 2rem;
        }
        
        .form-label {
            display: block;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }
        
        .form-helper {
            font-size: 0.875rem;
            color: var(--gray);
            margin-bottom: 0.75rem;
        }
        
        .form-input,
        .form-textarea,
        .form-select {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 2px solid var(--light-gray);
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }
        
        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }
        
        .form-textarea {
            min-height: 120px;
            resize: vertical;
            font-family: inherit;
        }
        
        /* ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆé€£æº */
        .sheet-integration {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(139, 92, 246, 0.05) 100%);
            border: 2px dashed var(--primary);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .sheet-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .sheet-title {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 0.5rem;
            text-align: center;
        }
        
        .sheet-description {
            color: var(--gray);
            font-size: 0.875rem;
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .sheet-inputs {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 1rem;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .sheet-cell-config {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
            margin-top: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 8px;
        }
        
        .cell-input {
            padding: 0.5rem;
            border: 1px solid var(--light-gray);
            border-radius: 6px;
            font-size: 0.875rem;
            text-align: center;
        }
        
        .cell-label {
            font-size: 0.75rem;
            color: var(--gray);
            margin-bottom: 0.25rem;
        }
        
        /* ãƒœã‚¿ãƒ³ */
        .btn {
            padding: 0.875rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            box-shadow: 0 4px 14px 0 rgba(99, 102, 241, 0.35);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px 0 rgba(99, 102, 241, 0.45);
        }
        
        .btn-secondary {
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-secondary:hover {
            background: rgba(99, 102, 241, 0.05);
        }
        
        .btn-group {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 2px solid var(--light-gray);
        }
        
        /* AIç”Ÿæˆçµæœ */
        .ai-result {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, rgba(99, 102, 241, 0.05) 100%);
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 2rem;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }
        
        .ai-result-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }
        
        .ai-badge {
            background: var(--success);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 100px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .ai-result-title {
            font-weight: 600;
            color: var(--dark);
        }
        
        .ai-result-content {
            color: var(--dark);
            line-height: 1.8;
        }
        
        .ai-result-item {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.75rem;
        }
        
        .ai-result-item strong {
            color: var(--primary);
            display: block;
            margin-bottom: 0.5rem;
        }
        
        /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° */
        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
        }
        
        .loading.active {
            display: block;
        }
        
        .spinner {
            width: 48px;
            height: 48px;
            border: 4px solid var(--light-gray);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 1024px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
            
            .progress-sidebar {
                position: relative;
                top: 0;
            }
        }
        
        @media (max-width: 640px) {
            .container {
                padding: 1rem;
            }
            
            .header h1 {
                font-size: 1.875rem;
            }
            
            .main-content {
                padding: 1.5rem;
            }
            
            .step-title {
                font-size: 1.5rem;
            }
            
            .sheet-cell-config {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ */
        .toast {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }
        
        .toast.show {
            transform: translateX(0);
        }
        
        .toast-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .toast.success .toast-icon {
            background: var(--success);
            color: white;
        }
        
        .toast.error .toast-icon {
            background: var(--error);
            color: white;
        }
        
        /* ã‚¿ãƒ– */
        .tab-container {
            margin-bottom: 2rem;
        }
        
        .tab-list {
            display: flex;
            gap: 0.5rem;
            border-bottom: 2px solid var(--light-gray);
            margin-bottom: 1.5rem;
        }
        
        .tab-button {
            padding: 0.75rem 1.5rem;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            color: var(--gray);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: -2px;
        }
        
        .tab-button:hover {
            color: var(--dark);
        }
        
        .tab-button.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeInUp 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–æˆ¦ç•¥æ§‹ç¯‰ãƒŠãƒ“ã‚²ãƒ¼ã‚¿ãƒ¼</h1>
            <p>5ã¤ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã€Œèª°ã«ä½•ã‚’è¨€ã†ã‹ã€ã‚’æ˜ç¢ºåŒ–ã—ã€å¿ƒã«éŸ¿ããƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚’å®Ÿç¾</p>
        </div>
        
        <div class="main-layout">
            <!-- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
            <div class="progress-sidebar">
                <div class="progress-title">
                    <span>ğŸ“Š</span>
                    <span>é€²è¡ŒçŠ¶æ³</span>
                </div>
                <ul class="step-list">
                    <li class="step-item active" data-step="1">
                        <div class="step-indicator"><span>1</span></div>
                        <div class="step-content">
                            <div class="step-name">å•†å“ä¾¡å€¤ã®ç†è§£</div>
                            <div class="step-description">ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ™ãƒãƒ•ã‚£ãƒƒãƒˆãƒ»ãƒ¦ãƒ‹ãƒ¼ã‚¯ãƒã‚¹ã‚’æ˜ç¢ºåŒ–</div>
                        </div>
                    </li>
                    <li class="step-item" data-step="2">
                        <div class="step-indicator"><span>2</span></div>
                        <div class="step-content">
                            <div class="step-name">ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®ç†è§£</div>
                            <div class="step-description">ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã¨ãƒšãƒ«ã‚½ãƒŠã‚’å®šç¾©</div>
                        </div>
                    </li>
                    <li class="step-item" data-step="3">
                        <div class="step-indicator"><span>3</span></div>
                        <div class="step-content">
                            <div class="step-name">ã‚¤ãƒ³ã‚µã‚¤ãƒˆã®ç†è§£</div>
                            <div class="step-description">ãƒšã‚¤ãƒ³ãƒ»ã‚²ã‚¤ãƒ³ãƒ»éšœå£ã‚’æ·±æ˜ã‚Š</div>
                        </div>
                    </li>
                    <li class="step-item" data-step="4">
                        <div class="step-indicator"><span>4</span></div>
                        <div class="step-content">
                            <div class="step-name">è¨´æ±‚è»¸ã®é–‹ç™º</div>
                            <div class="step-description">å¿ƒã«åˆºã•ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆ</div>
                        </div>
                    </li>
                    <li class="step-item" data-step="5">
                        <div class="step-indicator"><span>5</span></div>
                        <div class="step-content">
                            <div class="step-name">ã‚³ãƒ³ã‚»ãƒ—ãƒˆè¨­è¨ˆ</div>
                            <div class="step-description">å•†å“ã®å­˜åœ¨æ„ç¾©ã‚’å®šç¾©</div>
                        </div>
                    </li>
                </ul>
            </div>
            
            <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ -->
            <div class="main-content" id="mainContent">
                <!-- Step 1: å•†å“ä¾¡å€¤ã®ç†è§£ -->
                <div class="step-container" id="step1">
                    <div class="step-header">
                        <span class="step-number">
                            <span>STEP 1</span>
                        </span>
                        <h2 class="step-title">å•†å“ä¾¡å€¤ã®ç†è§£</h2>
                        <p class="step-subtitle">è‡ªç¤¾å•†å“ã®æœ¬å½“ã®å¼·ã¿ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†</p>
                    </div>
                    
                    <!-- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆé€£æº -->
                    <div class="sheet-integration">
                        <div class="sheet-icon">ğŸ“Š</div>
                        <div class="sheet-title">Googleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‹ã‚‰æƒ…å ±ã‚’å–å¾—</div>
                        <div class="sheet-description">å•†å“æƒ…å ±ãŒæ—¢ã«ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«ã‚ã‚‹å ´åˆã¯ã€URLã‚’å…¥åŠ›ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•å–å¾—ã§ãã¾ã™</div>
                        <div class="sheet-inputs">
                            <input type="text" class="form-input" id="sheetUrl" placeholder="https://docs.google.com/spreadsheets/d/...">
                            <button class="btn btn-secondary" onclick="app.toggleCellConfig()">
                                <span>âš™ï¸</span>
                                <span>ã‚»ãƒ«æŒ‡å®š</span>
                            </button>
                        </div>
                        <div class="sheet-cell-config" id="cellConfig" style="display: none;">
                            <div>
                                <div class="cell-label">å•†å“å</div>
                                <input type="text" class="cell-input" id="cellProductName" placeholder="A1">
                            </div>
                            <div>
                                <div class="cell-label">ãƒ¡ãƒªãƒƒãƒˆ</div>
                                <input type="text" class="cell-input" id="cellMerits" placeholder="B2:B10">
                            </div>
                            <div>
                                <div class="cell-label">ãƒ™ãƒãƒ•ã‚£ãƒƒãƒˆ</div>
                                <input type="text" class="cell-input" id="cellBenefits" placeholder="C2:C10">
                            </div>
                            <div>
                                <div class="cell-label">ãƒ¦ãƒ‹ãƒ¼ã‚¯ãƒã‚¹</div>
                                <input type="text" class="cell-input" id="cellUniqueness" placeholder="D2:D10">
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 1rem;">
                            <button class="btn btn-secondary" onclick="app.importFromSheet()">
                                <span>ğŸ“¥</span>
                                <span>ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="tab-container">
                        <div class="tab-list">
                            <button class="tab-button active" data-tab="basic">åŸºæœ¬æƒ…å ±</button>
                            <button class="tab-button" data-tab="competitive">ç«¶åˆåˆ†æ</button>
                        </div>
                        
                        <div class="tab-content active" id="tab-basic">
                            <div class="form-section">
                                <label class="form-label">å•†å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹å</label>
                                <input type="text" class="form-input" id="productName" placeholder="ä¾‹ï¼šã‚¹ãƒãƒ¼ãƒˆãƒ¢ãƒƒãƒ— Pro">
                            </div>
                            
                            <div class="form-section">
                                <label class="form-label">å•†å“ã‚«ãƒ†ã‚´ãƒª</label>
                                <select class="form-select" id="productCategory">
                                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                                    <option value="physical">ç‰©ç†è£½å“</option>
                                    <option value="digital">ãƒ‡ã‚¸ã‚¿ãƒ«ã‚µãƒ¼ãƒ“ã‚¹</option>
                                    <option value="btob">BtoBã‚µãƒ¼ãƒ“ã‚¹</option>
                                    <option value="education">æ•™è‚²ãƒ»ã‚³ãƒ³ã‚µãƒ«</option>
                                    <option value="health">å¥åº·ãƒ»ç¾å®¹</option>
                                    <option value="other">ãã®ä»–</option>
                                </select>
                            </div>
                            
                            <div class="form-section">
                                <label class="form-label">ãƒ¡ãƒªãƒƒãƒˆï¼ˆå•†å“ã®å¼·ã¿ãƒ»ç‰¹å¾´ï¼‰</label>
                                <div class="form-helper">å•†å“ã®æ©Ÿèƒ½ã‚„æ€§èƒ½ã€ä»–ç¤¾ã«ã¯ãªã„æŠ€è¡“ãªã©</div>
                                <textarea class="form-textarea" id="productMerits" placeholder="ä¾‹ï¼š&#10;ãƒ»ç‹¬è‡ªã®ãƒã‚¤ã‚¯ãƒ­ãƒ•ã‚¡ã‚¤ãƒãƒ¼æŠ€è¡“&#10;ãƒ»99.9%ã®é™¤èŒåŠ¹æœ&#10;ãƒ»æ°´æ´—ã„å¯èƒ½ã§ç¹°ã‚Šè¿”ã—ä½¿ãˆã‚‹"></textarea>
                            </div>
                            
                            <div class="form-section">
                                <label class="form-label">ãƒ™ãƒãƒ•ã‚£ãƒƒãƒˆï¼ˆé¡§å®¢ãŒå¾—ã‚‰ã‚Œã‚‹ä¾¡å€¤ï¼‰</label>
                                <div class="form-helper">ãã®å•†å“ã‚’ä½¿ã†ã“ã¨ã§å®Ÿç¾ã§ãã‚‹ç†æƒ³ã®æœªæ¥</div>
                                <textarea class="form-textarea" id="productBenefits" placeholder="ä¾‹ï¼š&#10;ãƒ»æ¯æ—¥ã®æƒé™¤ãŒæ¥½ã«ãªã‚Šæ™‚é–“ã«ä½™è£•ãŒç”Ÿã¾ã‚Œã‚‹&#10;ãƒ»å®¶æ—ã®å¥åº·ã‚’å®ˆã‚Œã‚‹å®‰å¿ƒæ„Ÿ&#10;ãƒ»æ¸…æ½”ãªç©ºé–“ã§å¿ƒåœ°ã‚ˆãéã”ã›ã‚‹"></textarea>
                            </div>
                            
                            <div class="form-section">
                                <label class="form-label">ãƒ¦ãƒ‹ãƒ¼ã‚¯ãƒã‚¹ï¼ˆç‹¬è‡ªæ€§ï¼‰</label>
                                <div class="form-helper">ç«¶åˆã«ã¯ãªã„å”¯ä¸€ç„¡äºŒã®ä¾¡å€¤</div>
                                <textarea class="form-textarea" id="productUniqueness" placeholder="ä¾‹ï¼š&#10;ãƒ»æ¥­ç•Œåˆã®AIæ­è¼‰ã§æ±šã‚Œã‚’è‡ªå‹•æ¤œçŸ¥&#10;ãƒ»ç‰¹è¨±å–å¾—æ¸ˆã¿ã®ç‹¬è‡ªæ§‹é€ &#10;ãƒ»ãƒ—ãƒ­ã®æ¸…æƒæ¥­è€…ã‚‚æ¡ç”¨ã™ã‚‹ä¿¡é ¼æ€§"></textarea>
                            </div>
                        </div>
                        
                        <div class="tab-content" id="tab-competitive">
                            <div class="form-section">
                                <label class="form-label">ç¬¬ä¸€æ®µéšã®ç«¶åˆï¼ˆèª²é¡Œè§£æ±ºã®æ–¹æ³•ï¼‰</label>
                                <div class="form-helper">ä¾‹ï¼šå¤–æ³¨ vs è‡ªç¤¾ã§ã‚„ã‚‹</div>
                                <input type="text" class="form-input" id="competitor1" placeholder="ä¾‹ï¼šå®¶äº‹ä»£è¡Œã‚µãƒ¼ãƒ“ã‚¹">
                            </div>
                            
                            <div class="form-section">
                                <label class="form-label">ç¬¬äºŒæ®µéšã®ç«¶åˆï¼ˆæ‰‹æ®µã®ç¨®é¡ï¼‰</label>
                                <div class="form-helper">ä¾‹ï¼šè‡ªå‹• vs æ‰‹å‹•</div>
                                <input type="text" class="form-input" id="competitor2" placeholder="ä¾‹ï¼šãƒ­ãƒœãƒƒãƒˆæƒé™¤æ©Ÿ">
                            </div>
                            
                            <div class="form-section">
                                <label class="form-label">ç¬¬ä¸‰æ®µéšã®ç«¶åˆï¼ˆå…·ä½“çš„ãªæ–¹æ³•ï¼‰</label>
                                <div class="form-helper">ä¾‹ï¼šæ©Ÿæ¢° vs æ‰‹ä½œæ¥­</div>
                                <input type="text" class="form-input" id="competitor3" placeholder="ä¾‹ï¼šæƒé™¤æ©Ÿ">
                            </div>
                            
                            <div class="form-section">
                                <label class="form-label">ç¬¬å››æ®µéšã®ç«¶åˆï¼ˆåŒã‚«ãƒ†ã‚´ãƒªã®ç«¶åˆå•†å“ï¼‰</label>
                                <div class="form-helper">ç›´æ¥çš„ãªç«¶åˆå•†å“</div>
                                <input type="text" class="form-input" id="competitor4" placeholder="ä¾‹ï¼šä»–ç¤¾ã®ãƒ¢ãƒƒãƒ—è£½å“">
                            </div>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="app.generateStep1Analysis()">
                        <span>âœ¨</span>
                        <span>AIåˆ†æã‚’å®Ÿè¡Œ</span>
                    </button>
                    
                    <div class="loading" id="loading1">
                        <div class="spinner"></div>
                        <p>Gemini AIãŒå•†å“ä¾¡å€¤ã‚’åˆ†æä¸­...</p>
                    </div>
                    
                    <div id="step1Result"></div>
                    
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="app.nextStep()">
                            <span>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸</span>
                            <span>â†’</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ -->
    <div class="toast" id="toast">
        <div class="toast-icon">âœ“</div>
        <div class="toast-message"></div>
    </div>
    
    <script>
        // Google Apps Script Web App URL (å®Ÿéš›ã®URLã«ç½®ãæ›ãˆã¦ãã ã•ã„)
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec';
        
        // ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–æˆ¦ç•¥ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
        class CreativeStrategyApp {
            constructor() {
                this.currentStep = 1;
                this.totalSteps = 5;
                this.geminiApiKey = 'AIzaSyCn7c0_lUZFyCIt5al2o13ZiecfwV9NOeI';
                this.strategyData = {
                    step1: {},
                    step2: {},
                    step3: {},
                    step4: {},
                    step5: {}
                };
                
                this.init();
            }
            
            init() {
                // ã‚¹ãƒ†ãƒƒãƒ—ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
                document.querySelectorAll('.step-item').forEach(item => {
                    item.addEventListener('click', () => {
                        const step = parseInt(item.dataset.step);
                        if (step <= this.currentStep) {
                            this.goToStep(step);
                        }
                    });
                });
                
                // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
                document.querySelectorAll('.tab-button').forEach(button => {
                    button.addEventListener('click', () => {
                        const tabName = button.dataset.tab;
                        this.switchTab(tabName);
                    });
                });
                
                this.loadStepContent(1);
            }
            
            switchTab(tabName) {
                // ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã®åˆ‡ã‚Šæ›¿ãˆ
                document.querySelectorAll('.tab-button').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
                
                // ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ‡ã‚Šæ›¿ãˆ
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                document.getElementById(`tab-${tabName}`).classList.add('active');
            }
            
            toggleCellConfig() {
                const cellConfig = document.getElementById('cellConfig');
                if (cellConfig.style.display === 'none') {
                    cellConfig.style.display = 'grid';
                } else {
                    cellConfig.style.display = 'none';
                }
            }
            
            async importFromSheet() {
                const url = document.getElementById('sheetUrl').value;
                if (!url) {
                    this.showToast('ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®URLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', 'error');
                    return;
                }
                
                // ã‚»ãƒ«æŒ‡å®šã®å–å¾—
                const cellProductName = document.getElementById('cellProductName').value || 'A1';
                const cellMerits = document.getElementById('cellMerits').value || 'B2:B10';
                const cellBenefits = document.getElementById('cellBenefits').value || 'C2:C10';
                const cellUniqueness = document.getElementById('cellUniqueness').value || 'D2:D10';
                
                try {
                    // Google Apps Scriptã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰
                    /*
                    const response = await fetch(GOOGLE_SCRIPT_URL, {
                        method: 'POST',
                        body: JSON.stringify({
                            url: url,
                            cells: {
                                productName: cellProductName,
                                merits: cellMerits,
                                benefits: cellBenefits,
                                uniqueness: cellUniqueness
                            }
                        })
                    });
                    const data = await response.json();
                    */
                    
                    // ãƒ‡ãƒ¢ç”¨ã®ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿
                    this.showToast('ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã—ãŸ', 'success');
                    
                    // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•å…¥åŠ›
                    document.getElementById('productName').value = 'ã‚¹ãƒãƒ¼ãƒˆãƒ¢ãƒƒãƒ— Pro';
                    document.getElementById('productCategory').value = 'physical';
                    document.getElementById('productMerits').value = 'ãƒ»ç‹¬è‡ªã®ãƒã‚¤ã‚¯ãƒ­ãƒ•ã‚¡ã‚¤ãƒãƒ¼æŠ€è¡“\nãƒ»99.9%ã®é™¤èŒåŠ¹æœ\nãƒ»æ°´æ´—ã„å¯èƒ½ã§ç¹°ã‚Šè¿”ã—ä½¿ãˆã‚‹';
                    document.getElementById('productBenefits').value = 'ãƒ»æ¯æ—¥ã®æƒé™¤ãŒæ¥½ã«ãªã‚Šæ™‚é–“ã«ä½™è£•ãŒç”Ÿã¾ã‚Œã‚‹\nãƒ»å®¶æ—ã®å¥åº·ã‚’å®ˆã‚Œã‚‹å®‰å¿ƒæ„Ÿ\nãƒ»æ¸…æ½”ãªç©ºé–“ã§å¿ƒåœ°ã‚ˆãéã”ã›ã‚‹';
                    document.getElementById('productUniqueness').value = 'ãƒ»æ¥­ç•Œåˆã®AIæ­è¼‰ã§æ±šã‚Œã‚’è‡ªå‹•æ¤œçŸ¥\nãƒ»ç‰¹è¨±å–å¾—æ¸ˆã¿ã®ç‹¬è‡ªæ§‹é€ \nãƒ»ãƒ—ãƒ­ã®æ¸…æƒæ¥­è€…ã‚‚æ¡ç”¨ã™ã‚‹ä¿¡é ¼æ€§';
                    
                } catch (error) {
                    this.showToast('ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ', 'error');
                    console.error('Error importing from sheet:', error);
                }
            }
            
            async callGeminiAPI(prompt) {
                const API_KEY = this.geminiApiKey;
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${API_KEY}`;
                
                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            contents: [{
                                parts: [{
                                    text: prompt
                                }]
                            }],
                            generationConfig: {
                                temperature: 0.7,
                                topK: 1,
                                topP: 1,
                                maxOutputTokens: 2048,
                            },
                            safetySettings: [
                                {
                                    category: "HARM_CATEGORY_HARASSMENT",
                                    threshold: "BLOCK_MEDIUM_AND_ABOVE"
                                },
                                {
                                    category: "HARM_CATEGORY_HATE_SPEECH",
                                    threshold: "BLOCK_MEDIUM_AND_ABOVE"
                                },
                                {
                                    category: "HARM_CATEGORY_SEXUALLY_EXPLICIT",
                                    threshold: "BLOCK_MEDIUM_AND_ABOVE"
                                },
                                {
                                    category: "HARM_CATEGORY_DANGEROUS_CONTENT",
                                    threshold: "BLOCK_MEDIUM_AND_ABOVE"
                                }
                            ]
                        })
                    });
                    
                    if (!response.ok) {
                        throw new Error(`API request failed: ${response.status}`);
                    }
                    
                    const data = await response.json();
                    
                    if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                        return data.candidates[0].content.parts[0].text;
                    } else {
                        throw new Error('Invalid API response format');
                    }
                    
                } catch (error) {
                    console.error('Gemini API Error:', error);
                    throw error;
                }
            }
            
            async generateStep1Analysis() {
                const productName = document.getElementById('productName').value;
                const merits = document.getElementById('productMerits').value;
                const benefits = document.getElementById('productBenefits').value;
                const uniqueness = document.getElementById('productUniqueness').value;
                
                if (!productName || !merits || !benefits || !uniqueness) {
                    this.showToast('ã™ã¹ã¦ã®é …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', 'error');
                    return;
                }
                
                // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
                document.getElementById('loading1').classList.add('active');
                
                const prompt = `
                    ä»¥ä¸‹ã®å•†å“æƒ…å ±ã‹ã‚‰ã€USPï¼ˆUnique Selling Propositionï¼‰ã‚’åˆ†æã—ã€å•†å“ä¾¡å€¤ã‚’æ•´ç†ã—ã¦ãã ã•ã„ã€‚
                    
                    å•†å“å: ${productName}
                    ãƒ¡ãƒªãƒƒãƒˆ: ${merits}
                    ãƒ™ãƒãƒ•ã‚£ãƒƒãƒˆ: ${benefits}
                    ãƒ¦ãƒ‹ãƒ¼ã‚¯ãƒã‚¹: ${uniqueness}
                    
                    ä»¥ä¸‹ã®å½¢å¼ã§å›ç­”ã—ã¦ãã ã•ã„ï¼š
                    1. USPï¼ˆç‹¬è‡ªã®å¼·ã¿ï¼‰ã®æ˜ç¢ºåŒ–
                    2. ç«¶åˆå„ªä½æ€§ã®æ•´ç†
                    3. é¡§å®¢ã«ã¨ã£ã¦ã®æœ€å¤§ä¾¡å€¤
                    4. æ¨å¥¨ã•ã‚Œã‚‹è¨´æ±‚ãƒã‚¤ãƒ³ãƒˆ
                `;
                
                try {
                    const result = await this.callGeminiAPI(prompt);
                    
                    // çµæœã‚’ä¿å­˜
                    this.strategyData.step1 = {
                        productName,
                        merits,
                        benefits,
                        uniqueness,
                        analysis: result
                    };
                    
                    // çµæœã‚’è¡¨ç¤º
                    this.displayStep1Result(result);
                    
                } catch (error) {
                    console.error('Error:', error);
                    // ã‚¨ãƒ©ãƒ¼æ™‚ã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®çµæœã‚’è¡¨ç¤º
                    const fallbackResult = this.getFallbackStep1Result(productName);
                    this.displayStep1Result(fallbackResult);
                    this.showToast('APIæ¥ç¶šã‚¨ãƒ©ãƒ¼ã®ãŸã‚ã€ã‚µãƒ³ãƒ—ãƒ«åˆ†æã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™', 'warning');
                } finally {
                    document.getElementById('loading1').classList.remove('active');
                }
            }
            
            getFallbackStep1Result(productName) {
                return `
1. USPï¼ˆç‹¬è‡ªã®å¼·ã¿ï¼‰ã®æ˜ç¢ºåŒ–
${productName}ã®æœ€å¤§ã®ç‹¬è‡ªä¾¡å€¤ã¯ã€ã€Œå…ˆé€²æŠ€è¡“ã¨å®Ÿç”¨æ€§ã®å®Œç’§ãªèåˆã€ã«ã‚ã‚Šã¾ã™ã€‚ç‰¹è¨±å–å¾—æ¸ˆã¿ã®ç‹¬è‡ªæ§‹é€ ã«ã‚ˆã‚Šã€å¾“æ¥è£½å“ã§ã¯å®Ÿç¾ã§ããªã‹ã£ãŸæ©Ÿèƒ½æ€§ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚

2. ç«¶åˆå„ªä½æ€§ã®æ•´ç†
ãƒ»å¯¾å®¶äº‹ä»£è¡Œï¼šã‚³ã‚¹ãƒˆåŠ¹ç‡ã§åœ§å€’çš„å„ªä½ï¼ˆåˆæœŸæŠ•è³‡ã®ã¿ã§ç¶™ç¶šè²»ç”¨ãªã—ï¼‰
ãƒ»å¯¾ãƒ­ãƒœãƒƒãƒˆæƒé™¤æ©Ÿï¼šäººã®æ‰‹ã«ã‚ˆã‚‹ç´°ã‚„ã‹ãªæ¸…æƒãŒå¯èƒ½
ãƒ»å¯¾å¾“æ¥æƒé™¤æ©Ÿï¼šæº–å‚™ã®æ‰‹é–“ãªãã€ç´ æ—©ãä½¿ãˆã‚‹åˆ©ä¾¿æ€§
ãƒ»å¯¾ä»–ç¤¾ãƒ¢ãƒƒãƒ—ï¼šç‹¬è‡ªæŠ€è¡“ã«ã‚ˆã‚‹é™¤èŒåŠ¹æœã¨è€ä¹…æ€§

3. é¡§å®¢ã«ã¨ã£ã¦ã®æœ€å¤§ä¾¡å€¤
ã€Œæ™‚é–“çš„ä½™è£•ã€ã¨ã€Œå¥åº·çš„ãªç”Ÿæ´»ç’°å¢ƒã€ã®ä¸¡ç«‹ã‚’å®Ÿç¾ã€‚å¿™ã—ã„ç¾ä»£äººãŒæœ€ã‚‚æ±‚ã‚ã‚‹"åŠ¹ç‡çš„ã§ç¢ºå®Ÿãªæ¸…æ½”ç¶­æŒ"ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚

4. æ¨å¥¨ã•ã‚Œã‚‹è¨´æ±‚ãƒã‚¤ãƒ³ãƒˆ
ãƒ»æ©Ÿèƒ½è¨´æ±‚ï¼šã€Œ99.9%é™¤èŒã§å®¶æ—ã®å¥åº·ã‚’å®ˆã‚‹ã€
ãƒ»æ„Ÿæƒ…è¨´æ±‚ï¼šã€Œæ¯æ—¥ã®æƒé™¤ãŒæ¥½ã—ããªã‚‹æ–°ä½“é¨“ã€
ãƒ»ç‹¬è‡ªæ€§è¨´æ±‚ï¼šã€Œãƒ—ãƒ­ã‚‚èªã‚ã‚‹ç‰¹è¨±æŠ€è¡“æ­è¼‰ã€
                `;
            }
            
            displayStep1Result(result) {
                const resultContainer = document.getElementById('step1Result');
                resultContainer.innerHTML = `
                    <div class="ai-result">
                        <div class="ai-result-header">
                            <span class="ai-badge">AIåˆ†æå®Œäº†</span>
                            <span class="ai-result-title">å•†å“ä¾¡å€¤åˆ†æãƒ¬ãƒãƒ¼ãƒˆ</span>
                        </div>
                        <div class="ai-result-content">
                            ${this.formatAIResponse(result)}
                        </div>
                    </div>
                `;
                
                this.showToast('å•†å“ä¾¡å€¤ã®åˆ†æãŒå®Œäº†ã—ã¾ã—ãŸ', 'success');
            }
            
            formatAIResponse(text) {
                // AIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’æ•´å½¢
                const lines = text.split('\n');
                let formatted = '';
                
                lines.forEach(line => {
                    if (line.match(/^\d\./)) {
                        formatted += `<div class="ai-result-item"><strong>${line}</strong>`;
                    } else if (line.trim()) {
                        formatted += `${line}<br>`;
                    } else if (formatted.includes('<div class="ai-result-item">')) {
                        formatted += '</div>';
                    }
                });
                
                if (formatted.includes('<div class="ai-result-item">') && !formatted.endsWith('</div>')) {
                    formatted += '</div>';
                }
                
                return formatted;
            }
            
            async generateStep2Analysis() {
                // Step2ã®åˆ†æãƒ­ã‚¸ãƒƒã‚¯
                const demographic = document.getElementById('targetDemographic').value;
                const psychographic = document.getElementById('targetPsychographic').value;
                const depth = document.getElementById('targetDepth').value;
                
                if (!demographic || !psychographic || !depth) {
                    this.showToast('ã™ã¹ã¦ã®é …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', 'error');
                    return;
                }
                
                document.getElementById('loading2').classList.add('active');
                
                const prompt = `
                    ä»¥ä¸‹ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆæƒ…å ±ã‹ã‚‰ã€è©³ç´°ãªãƒšãƒ«ã‚½ãƒŠã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
                    
                    ãƒ‡ãƒ¢ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯: ${demographic}
                    ã‚µã‚¤ã‚³ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯: ${psychographic}
                    æ¬²æ±‚æ·±åº¦: ${depth}
                    
                    ä»¥ä¸‹ã®å½¢å¼ã§å›ç­”ã—ã¦ãã ã•ã„ï¼š
                    1. ãƒšãƒ«ã‚½ãƒŠãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ï¼ˆåå‰ã€å¹´é½¢ã€è·æ¥­ã€å®¶æ—æ§‹æˆãªã©ï¼‰
                    2. 1æ—¥ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
                    3. ä¾¡å€¤è¦³ã¨å„ªå…ˆé †ä½
                    4. è³¼è²·è¡Œå‹•ã®ç‰¹å¾´
                `;
                
                try {
                    const result = await this.callGeminiAPI(prompt);
                    this.displayStep2Result(result);
                } catch (error) {
                    const fallbackResult = this.getFallbackStep2Result();
                    this.displayStep2Result(fallbackResult);
                } finally {
                    document.getElementById('loading2').classList.remove('active');
                }
            }
            
            getFallbackStep2Result() {
                return `
1. ãƒšãƒ«ã‚½ãƒŠãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
åå‰ï¼šä½è—¤ ç”±é¦™é‡Œï¼ˆ35æ­³ï¼‰
è·æ¥­ï¼šITä¼æ¥­ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°éƒ¨èª²é•·
å®¶æ—ï¼šå¤«ï¼ˆ38æ­³ãƒ»ãƒ¡ãƒ¼ã‚«ãƒ¼å‹¤å‹™ï¼‰ã€é•·å¥³ï¼ˆ7æ­³ï¼‰ã€é•·ç”·ï¼ˆ4æ­³ï¼‰
å±…ä½åœ°ï¼šæ±äº¬éƒ½ä¸–ç”°è°·åŒºï¼ˆ3LDKãƒãƒ³ã‚·ãƒ§ãƒ³ï¼‰

2. 1æ—¥ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
06:00 èµ·åºŠãƒ»æœé£Ÿæº–å‚™
07:00 å­ä¾›ã‚’ä¿è‚²åœ’ã¸
08:30 å‡ºç¤¾
18:30 é€€ç¤¾ãƒ»è²·ã„ç‰©
19:30 å¤•é£Ÿæº–å‚™
21:00 å­ä¾›ã®å¯ã‹ã—ã¤ã‘
22:00 å®¶äº‹ãƒ»è‡ªåˆ†æ™‚é–“

3. ä¾¡å€¤è¦³ã¨å„ªå…ˆé †ä½
1ä½ï¼šå®¶æ—ã®å¥åº·ã¨å¹¸ã›
2ä½ï¼šä»•äº‹ã§ã®æˆæœã¨ã‚­ãƒ£ãƒªã‚¢
3ä½ï¼šåŠ¹ç‡çš„ãªæ™‚é–“æ´»ç”¨
4ä½ï¼šè‡ªå·±æˆé•·ã¨å­¦ç¿’

4. è³¼è²·è¡Œå‹•ã®ç‰¹å¾´
ãƒ»ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®æƒ…å ±åé›†ã‚’é‡è¦–
ãƒ»å£ã‚³ãƒŸã‚„è©•ä¾¡ã‚’å¿…ãšãƒã‚§ãƒƒã‚¯
ãƒ»åˆæœŸæŠ•è³‡ã‚ˆã‚Šé•·æœŸçš„ãªã‚³ã‚¹ãƒ‘ã‚’é‡è¦–
ãƒ»ãƒ–ãƒ©ãƒ³ãƒ‰ã‚ˆã‚Šå®Ÿç”¨æ€§ã‚’å„ªå…ˆ
                `;
            }
            
            displayStep2Result(result) {
                const resultContainer = document.getElementById('step2Result');
                resultContainer.innerHTML = `
                    <div class="ai-result">
                        <div class="ai-result-header">
                            <span class="ai-badge">AIåˆ†æå®Œäº†</span>
                            <span class="ai-result-title">ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒšãƒ«ã‚½ãƒŠ</span>
                        </div>
                        <div class="ai-result-content">
                            ${this.formatAIResponse(result)}
                        </div>
                    </div>
                `;
                this.showToast('ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ†æãŒå®Œäº†ã—ã¾ã—ãŸ', 'success');
            }
            
            nextStep() {
                if (this.currentStep < this.totalSteps) {
                    this.currentStep++;
                    this.goToStep(this.currentStep);
                }
            }
            
            previousStep() {
                if (this.currentStep > 1) {
                    this.currentStep--;
                    this.goToStep(this.currentStep);
                }
            }
            
            goToStep(step) {
                this.currentStep = step;
                
                // ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®æ›´æ–°
                document.querySelectorAll('.step-item').forEach((item, index) => {
                    const itemStep = index + 1;
                    item.classList.remove('active');
                    if (itemStep < step) {
                        item.classList.add('completed');
                    } else if (itemStep === step) {
                        item.classList.add('active');
                        item.classList.remove('completed');
                    } else {
                        item.classList.remove('completed');
                    }
                });
                
                // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®èª­ã¿è¾¼ã¿
                this.loadStepContent(step);
            }
            
            loadStepContent(step) {
                const mainContent = document.getElementById('mainContent');
                
                // å„ã‚¹ãƒ†ãƒƒãƒ—ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‹•çš„ã«ç”Ÿæˆ
                const stepContents = {
                    2: this.getStep2Content(),
                    3: this.getStep3Content(),
                    4: this.getStep4Content(),
                    5: this.getStep5Content()
                };
                
                if (step > 1 && stepContents[step]) {
                    mainContent.innerHTML = stepContents[step];
                }
            }
            
            getStep2Content() {
                return `
                    <div class="step-container" id="step2">
                        <div class="step-header">
                            <span class="step-number">
                                <span>STEP 2</span>
                            </span>
                            <h2 class="step-title">ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®ç†è§£</h2>
                            <p class="step-subtitle">å•†å“ä¾¡å€¤ã‚’æœ€ã‚‚å–œã‚“ã§ãã‚Œã‚‹äººã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†</p>
                        </div>
                        
                        <div class="form-section">
                            <label class="form-label">ãƒ¡ã‚¤ãƒ³ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå±¤</label>
                            <div class="form-helper">å¹´é½¢ã€æ€§åˆ¥ã€è·æ¥­ãªã©ã®åŸºæœ¬å±æ€§</div>
                            <input type="text" class="form-input" id="targetDemographic" placeholder="ä¾‹ï¼š30-40ä»£ã®å…±åƒãä¸»å©¦">
                        </div>
                        
                        <div class="form-section">
                            <label class="form-label">ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«ãƒ»ä¾¡å€¤è¦³</label>
                            <div class="form-helper">è¶£å‘³ã€é–¢å¿ƒäº‹ã€ç”Ÿæ´»ãƒ‘ã‚¿ãƒ¼ãƒ³ãªã©</div>
                            <textarea class="form-textarea" id="targetPsychographic" placeholder="ä¾‹ï¼š&#10;ãƒ»ä»•äº‹ã¨å®¶äº‹ã®ä¸¡ç«‹ã§å¿™ã—ã„&#10;ãƒ»åŠ¹ç‡çš„ãªå®¶äº‹ã‚’é‡è¦–&#10;ãƒ»å®¶æ—ã®å¥åº·ã‚’å¤§åˆ‡ã«ã—ã¦ã„ã‚‹"></textarea>
                        </div>
                        
                        <div class="form-section">
                            <label class="form-label">æ¬²æ±‚ã®æ·±åº¦</label>
                            <select class="form-select" id="targetDepth">
                                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                                <option value="latent">æ½œåœ¨å±¤ - èª²é¡Œã«æ°—ã¥ã„ã¦ã„ãªã„</option>
                                <option value="semi-aware">æº–é¡•åœ¨å±¤ - èª²é¡Œã¯èªè­˜ã—ã¦ã„ã‚‹ãŒè¡Œå‹•ã—ã¦ã„ãªã„</option>
                                <option value="aware">é¡•åœ¨å±¤ - ç©æ¥µçš„ã«è§£æ±ºç­–ã‚’æ¢ã—ã¦ã„ã‚‹</option>
                            </select>
                        </div>
                        
                        <button class="btn btn-primary" onclick="app.generateStep2Analysis()">
                            <span>âœ¨</span>
                            <span>ãƒšãƒ«ã‚½ãƒŠåˆ†æã‚’å®Ÿè¡Œ</span>
                        </button>
                        
                        <div class="loading" id="loading2">
                            <div class="spinner"></div>
                            <p>ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒšãƒ«ã‚½ãƒŠã‚’åˆ†æä¸­...</p>
                        </div>
                        
                        <div id="step2Result"></div>
                        
                        <div class="btn-group">
                            <button class="btn btn-secondary" onclick="app.previousStep()">
                                <span>â†</span>
                                <span>å‰ã®ã‚¹ãƒ†ãƒƒãƒ—</span>
                            </button>
                            <button class="btn btn-primary" onclick="app.nextStep()">
                                <span>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸</span>
                                <span>â†’</span>
                            </button>
                        </div>
                    </div>
                `;
            }
            
            getStep3Content() {
                return `
                    <div class="step-container" id="step3">
                        <div class="step-header">
                            <span class="step-number">
                                <span>STEP 3</span>
                            </span>
                            <h2 class="step-title">ã‚¤ãƒ³ã‚µã‚¤ãƒˆã®ç†è§£</h2>
                            <p class="step-subtitle">ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®æœ¬éŸ³ã‚’è¦‹æŠœãã¾ã—ã‚‡ã†</p>
                        </div>
                        
                        <div class="form-section">
                            <label class="form-label">ãƒšã‚¤ãƒ³ï¼ˆãªãã—ãŸã„æ‚©ã¿ï¼‰</label>
                            <div class="form-helper">è¡¨é¢çš„ãªä¸æº€ã®å¥¥ã«ã‚ã‚‹æœ¬è³ªçš„ãªèª²é¡Œ</div>
                            <textarea class="form-textarea" id="targetPain" placeholder="ä¾‹ï¼š&#10;ãƒ»æƒé™¤ã«æ™‚é–“ã‚’å–ã‚‰ã‚Œã¦å®¶æ—ã¨ã®æ™‚é–“ãŒæ¸›ã£ã¦ã„ã‚‹&#10;ãƒ»æœ¬å½“ã«æ¸…æ½”ã«ã§ãã¦ã„ã‚‹ã‹ä¸å®‰&#10;ãƒ»æƒé™¤ç”¨å“ã®ç®¡ç†ãŒç…©é›‘"></textarea>
                        </div>
                        
                        <div class="form-section">
                            <label class="form-label">ã‚²ã‚¤ãƒ³ï¼ˆå¾—ãŸã„ä¾¡å€¤ï¼‰</label>
                            <div class="form-helper">ç†æƒ³ã®æœªæ¥åƒ</div>
                            <textarea class="form-textarea" id="targetGain" placeholder="ä¾‹ï¼š&#10;ãƒ»å®¶æ—ã¨ã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã—ãŸã„&#10;ãƒ»æ¸…æ½”ã§å¥åº·çš„ãªä½ç’°å¢ƒã‚’ç¶­æŒã—ãŸã„&#10;ãƒ»åŠ¹ç‡çš„ã§ã‚¹ãƒˆãƒ¬ã‚¹ãƒ•ãƒªãƒ¼ãªå®¶äº‹"></textarea>
                        </div>
                        
                        <div class="form-section">
                            <label class="form-label">éšœå£ï¼ˆè¡Œå‹•ã‚’å¦¨ã’ã‚‹ã‚‚ã®ï¼‰</label>
                            <div class="form-helper">è³¼å…¥ãƒ»åˆ©ç”¨ã‚’ãŸã‚ã‚‰ã†ç†ç”±</div>
                            <textarea class="form-textarea" id="targetBarrier" placeholder="ä¾‹ï¼š&#10;ãƒ»åˆæœŸè²»ç”¨ãŒé«˜ãã†&#10;ãƒ»æœ¬å½“ã«åŠ¹æœãŒã‚ã‚‹ã‹ç–‘å•&#10;ãƒ»ä½¿ã„æ–¹ãŒè¤‡é›‘ãã†"></textarea>
                        </div>
                        
                        <button class="btn btn-primary" onclick="app.generateStep3Analysis()">
                            <span>âœ¨</span>
                            <span>ã‚¤ãƒ³ã‚µã‚¤ãƒˆåˆ†æã‚’å®Ÿè¡Œ</span>
                        </button>
                        
                        <div class="loading" id="loading3">
                            <div class="spinner"></div>
                            <p>æ·±å±¤ã‚¤ãƒ³ã‚µã‚¤ãƒˆã‚’åˆ†æä¸­...</p>
                        </div>
                        
                        <div id="step3Result"></div>
                        
                        <div class="btn-group">
                            <button class="btn btn-secondary" onclick="app.previousStep()">
                                <span>â†</span>
                                <span>å‰ã®ã‚¹ãƒ†ãƒƒãƒ—</span>
                            </button>
                            <button class="btn btn-primary" onclick="app.nextStep()">
                                <span>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸</span>
                                <span>â†’</span>
                            </button>
                        </div>
                    </div>
                `;
            }
            
            getStep4Content() {
                return `
                    <div class="step-container" id="step4">
                        <div class="step-header">
                            <span class="step-number">
                                <span>STEP 4</span>
                            </span>
                            <h2 class="step-title">è¨´æ±‚è»¸ã®é–‹ç™º</h2>
                            <p class="step-subtitle">å¿ƒã«åˆºã•ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œã‚Šã¾ã—ã‚‡ã†</p>
                        </div>
                        
                        <button class="btn btn-primary" onclick="app.generateStep4Analysis()">
                            <span>âœ¨</span>
                            <span>è¨´æ±‚è»¸ã‚’è‡ªå‹•ç”Ÿæˆ</span>
                        </button>
                        
                        <div class="loading" id="loading4">
                            <div class="spinner"></div>
                            <p>æœ€é©ãªè¨´æ±‚è»¸ã‚’é–‹ç™ºä¸­...</p>
                        </div>
                        
                        <div id="step4Result"></div>
                        
                        <div class="btn-group">
                            <button class="btn btn-secondary" onclick="app.previousStep()">
                                <span>â†</span>
                                <span>å‰ã®ã‚¹ãƒ†ãƒƒãƒ—</span>
                            </button>
                            <button class="btn btn-primary" onclick="app.nextStep()">
                                <span>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸</span>
                                <span>â†’</span>
                            </button>
                        </div>
                    </div>
                `;
            }
            
            getStep5Content() {
                return `
                    <div class="step-container" id="step5">
                        <div class="step-header">
                            <span class="step-number">
                                <span>STEP 5</span>
                            </span>
                            <h2 class="step-title">ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ã‚»ãƒ—ãƒˆè¨­è¨ˆ</h2>
                            <p class="step-subtitle">å•†å“ã®å­˜åœ¨æ„ç¾©ã‚’ä¸€è¨€ã§è¡¨ç¾ã—ã¾ã—ã‚‡ã†</p>
                        </div>
                        
                        <button class="btn btn-primary" onclick="app.generateStep5Analysis()">
                            <span>âœ¨</span>
                            <span>ã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚’ç”Ÿæˆ</span>
                        </button>
                        
                        <div class="loading" id="loading5">
                            <div class="spinner"></div>
                            <p>ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚’è¨­è¨ˆä¸­...</p>
                        </div>
                        
                        <div id="step5Result"></div>
                        
                        <div class="btn-group">
                            <button class="btn btn-secondary" onclick="app.previousStep()">
                                <span>â†</span>
                                <span>å‰ã®ã‚¹ãƒ†ãƒƒãƒ—</span>
                            </button>
                            <button class="btn btn-primary" onclick="app.downloadReport()">
                                <span>ğŸ“¥</span>
                                <span>ãƒ¬ãƒãƒ¼ãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</span>
                            </button>
                        </div>
                    </div>
                `;
            }
            
            showToast(message, type = 'success') {
                const toast = document.getElementById('toast');
                const messageEl = toast.querySelector('.toast-message');
                
                toast.className = `toast ${type}`;
                messageEl.textContent = message;
                
                toast.classList.add('show');
                
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 3000);
            }
            
            downloadReport() {
                // ãƒ¬ãƒãƒ¼ãƒˆã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
                this.showToast('æˆ¦ç•¥ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã—ã¦ã„ã¾ã™...', 'success');
                
                // å®Ÿéš›ã®å®Ÿè£…ã§ã¯ã€PDFã‚„Excelãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ
                setTimeout(() => {
                    this.showToast('ãƒ¬ãƒãƒ¼ãƒˆã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã—ã¾ã—ãŸ', 'success');
                }, 2000);
            }
        }
        
        // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆæœŸåŒ–
        const app = new CreativeStrategyApp();
    </script>
</body>
</html>
